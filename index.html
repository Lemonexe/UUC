<!DOCTYPE html>
<html ng-app="UUC" ng-controller="ctrl">
	<head>
		<meta charset="UTF-8">
		<meta name="description" content="A useful tool for unit conversion.">
		<title>Ultimate Unit Converter</title>
		<script src="libs/angular.min.js"></script>
		<!--these scripts just declare-->
		<script src="app/convert.js" type="text/javascript"></script>
		<script src="app/convert_parse.js" type="text/javascript"></script>
		<script src="app/convert_macro.js" type="text/javascript"></script>
		<script src="app/lang.js" type="text/javascript"></script>
		<script src="app/data.js" type="text/javascript"></script>
		<!--these script start doing something-->
		<script src="app/misc.js" type="text/javascript"></script>
		<script src="app/controller.js" type="text/javascript"></script>
		<!--utilities-->
		<script src="app/tests.js" type="text/javascript"></script>
		<link rel="stylesheet" href="app/style.css">
	</head>
	<body>
<div id="lang">
	<img src="res/CZ.png" ng-click="changeLang('cz')" style="width: 45px; height: 30px;">
	<img src="res/EN.png" ng-click="changeLang('en')" style="width: 45px; height: 30px;">
</div>

<h1>Ultimate Unit Converter II</h1>

<div id="tabButtonContainer">
	<span ng-click="changeTab('converter')" ng-style="tabButtonStyle('converter')" class="tabButton"><cz>Převodník</cz><en>Converter</en></span>
	<span ng-click="changeTab('macro')" ng-style="tabButtonStyle('macro')" class="tabButton"><cz>Makro</cz><en>Macro</en></span>
	<span ng-click="changeTab('help')" ng-style="tabButtonStyle('help')" class="tabButton"><cz>Reference</cz><en>Reference</en></span>
	<span ng-click="changeTab('examples')" ng-style="tabButtonStyle('examples')" class="tabButton"><cz>Příklady</cz><en>Examples</en></span>
	<span ng-click="changeTab('intro')" ng-style="tabButtonStyle('intro')" class="tabButton"><cz>Úvod</cz><en>Intro</en></span>
</div>

<div ng-switch="CS.tab">
	<div ng-switch-when="intro">
		<cz>
			<p>
				Napište výraz do textového pole <b>Vstup</b> (viz tlačítko <b>Příklady</b>) a stiskněte Enter pro provedení převodu.
			</p><p>
				Převod takto proběhne do základních jednotek SI, můžete však vyplnit textové pole <b>Cílové jednotky</b> pro určení výstupních jednotek (např. Torr na mbar).
			</p><p>
				Jednotky jsou citlivé na velikost písmen (z dobrého důvodu). V <b>Referenci</b> naleznete vyčerpávající seznam.
			</p><p>
				UUC pro vás provede rozměrovou analýzu a pokud Vstup &amp; Cílové jednotky nesouhlasí, dostanete varování.<br>
				To je často způsobeno nesprávně pochopeným symbolem jednotky a následnou kolizí s jinou jednotkou (např. považujete C za stupeň Celsia, ovšem ten je °C, zatímco C je coulomb).<br>
				Také to může být způsobeno syntaktickou chybou (např. považujete mK za metr krát kelvin, ale je to ve skutečnosti milikelvin, zatímco správný zápis je m*k).
			</p><p>
				<b>Poznámky:</b>
				<ol>
					<li>Nově je možné UUC přidat do prohlížeče jako vyhledávač a mít jej tak rychle po ruce! <a class="fakeLink" ng-click="CS.tab = 'searchEngine'">Návod (pro Chrome)</a></li>
					<li>Teplotní jednotky jsou zpracovávány jako jednotky rozdílu teploty, nikoliv teploty. Viz °C v Referenci pro více informací.</li>
					<li>Pokud vám zde chybí vaše oblíbená jednotky či konstanta a rádi byste ji zde viděli, <a href="mailto:zbytek@gmail.com">kontaktujte mě</a>.</li>
					<li>Pokud máte nápad na vylepšení této aplikace, neváhejte <a href="mailto:zbytek@gmail.com">mě kontaktovat</a>.</li>
					<li>Pokud sami programujete a máte zájem o zdrojový kód, navštivte <a href="https://github.com/Lemonexe/UUC">Github repozitář</a>.</li>
				</ol>
			</p>
		</cz>

		<en>
			<p>
				Write your expression into the <b>Input</b> text field (see the <b>Examples</b> button) and press Enter to perform the conversion.
			</p><p>
				Conversion is into basic SI units by default, but you can fill the <b>Target units</b> field to specify an output unit (e.g. Torr into mbar).
			</p><p>
				Units are case sensitive (and for a good reason). In the <b>Reference</b> you will find a comprehensive list.
			</p><p>
				UUC will perform dimensional analysis for you and if the Input &amp; Target units are mismatched, you will get a warning.<br>
				This is often caused by a misunderstood unit symbol and subsequent collision with another unit (e.g. you expect C to be degree Celsius, but that's °C, while C is reserved for coulomb).<br>
				It can also be caused by wrong syntax (e.g. you expect mK to be metre times kelvin, but it's actually milikelvin, the correct syntax is m*K).
			</p><p>
				<b>Notes:</b>
				<ol>
					<li>Now you can add UUC to your browser as a search engine so as to access it quickly and conveniently! <a class="fakeLink" ng-click="CS.tab = 'searchEngine'">Instructions (for Chrome)</a></li>
					<li>Temperature units are handled as temperature difference, not temperature value. See °C in the Reference for details.</li>
					<li>If you are missing your favorite unit or constant and would like to see it here, you can <a href="mailto:zbytek@gmail.com">contact me</a>.</li>
					<li>If you have an idea how to enhance the application, you can <a href="mailto:zbytek@gmail.com">contact me</a>.</li>
					<li>If you are a programmer interested in the source code, see the <a href="https://github.com/Lemonexe/UUC">Github repository</a>.</li>
				</ol>
			</p>
		</en>
	</div>

	<div ng-switch-when="help">
		<cz>Zde můžete napsat jednotku (či její název), aby byl seznam omezen na jednotky se stejným rozměrem (1 pro bezrozměrné), nebo zadejte _ pro seznam konstant:</cz>
		<en>You can write a unit (or its name) here to filter the ones with same dimension (1 for dimensionless), or write _ to list constants:</en>
		<br>
		<input type="text" class="inputBox" ng-model="CS.filter" ng-change="listenForHelp()">
		<h2><cz>Předpony (mocniny)</cz><en>Prefixes (exponents)</en></h2>
		{{prefixText}}

		<cz>
			<h2>Jednotky</h2>
			<p>V databázi je {{databaseCount}} položek (včetně {{constantCount}} konstant), přičemž {{Units.length}} je právě zobrazeno.<br>
			Jednotky měn byly načteny z externí stránky v {{currencyTimestamp}}.</p>
		</cz>
		<en>
			<h2>Units</h2>
			<p>There are {{databaseCount}} items in database (including {{constantCount}} constants) while {{Units.length}} items are currently listed.<br>
			Currency units have been loaded from external website at {{currencyTimestamp}}.</p>
		</en>

		<p ng-repeat="u in Units">
			<span class="reference" ng-class="{highlight: $index === 0 && highlightFirst}"><b>{{u.name[CS.lang]}}</b>{{buildUnitEntry(u)}}</span>
		</p>

	</div>

	<div ng-switch-when="converter">
		<div id="convertContainer">
			<a class="fakeLink" ng-click="flip()" style="position: absolute; right: 0px; top: 47px; font-size: 18px; text-decoration: none;">⇅</a>
			<b><cz>Vstup:</cz><en>Input:</en></b><br>
			<input type="text" class="inputBox" ng-model="CS.input" ng-keyup="listenForConvert($event)" autofocus><br>

			<b><cz>Cílové jednotky:</cz><en>Target units:</en></b><br>
			<input type="text" class="inputBox" ng-model="CS.target" ng-keyup="listenForConvert($event)"><br>

			<input type="button" ng-value="'Převést'.trans()" ng-click="fullConversion()">
		</div>

		<div id="paramContainer">
			<a ng-click="CS.showParams = !CS.showParams" style="cursor: pointer;"><span style="display: inline-block; width: 15px;">{{CS.showParams ? '–' : '+'}}</span><cz>Formát výstupu</cz><en>Output format</en></a>
			<div ng-show="CS.showParams">
				<label><input type="radio" ng-model="CS.params.spec" value="auto" ng-change="updateFormat()"> <cz>automatický</cz><en>automatic</en></label><br>
				<label><input type="radio" ng-model="CS.params.spec" value="digits" ng-change="updateFormat()"> <cz>počet platných cifer</cz><en>significant digits</en>: </label>
				<input type="number" class="numSelector" ng-model="CS.params.digits" min="1" max="20" ng-change="updateFormat()"><br>
				<label><input type="radio" ng-model="CS.params.spec" value="fixed" ng-change="updateFormat()"> <cz>počet desetinných míst</cz><en>number of decimals</en>: </label>
				<input type="number" class="numSelector" ng-model="CS.params.fixed" min="0" max="20" ng-change="updateFormat()"><br>
				<br>
				<label><input type="checkbox" ng-model="CS.params.exp" ng-change="updateFormat()"> <cz>vždy vědecký zápis</cz><en>always scientific notation</en></label>
			</div>
		</div>
		<div style="display: block; height: 20px; clear: both;"></div>

		<b><cz>Výstup:</cz><en>Output:</en></b><br>
		<span class="outputBox">{{result && result.output ? (result.output.num2 || result.output.num) + ' ' + result.output.dim : ' '}}</span>

		<div ng-if="result" ng-class="statusAppear">
			<br><b><cz>Stav:</cz><en>Status:</en></b><br>
			<span ng-repeat="m in result.messages track by $index" ng-class="statusClass">{{m}}<br></span>
		</div>
	</div>

	<div ng-switch-when="macro">
		<b><cz>Kód:</cz><en>Code:</en></b><br>
		<textarea ng-model="CS.inputCode" ng-keyup="listenForRun($event)" ng-style="textareaStyle()" resize-observer autofocus spellcheck="false"></textarea><br>
		<input type="button" ng-value="'Spustit (F2)'.trans()" ng-click="runCode()"><br>
		<b><cz>Výstup:</cz><en>Output:</en></b><br>
		<div ng-if="resultCode"><span ng-repeat="m in resultCode track by $index">{{m}}<br></span></div>
	</div>

	<div ng-switch-when="examples">
		<h2>Základní příklady:</h2>

			min
			<span class="example">před jednotku není třeba psát číslo a bude doplněna jednička. Zde proběhne převod jedné minuty (ve výchozím stavu na sekundy)</span><br>

			6 kPa <i>nebo</i> 6kPa
			<span class="example">před jednotkami můžete používat standardní SI předpony. Mezery jsou zcela volitelné, všechny mezery jsou ignorovány</span><br>

			6.2 kJ <i>nebo</i> 6,2 kJ
			<span class="example">desetinná čárka platí stejně jako desetinná tečka</span><br>

			12 ug*Hz / Pa
			<span class="example">můžete násobit pomocí <b>*</b> a dělit pomocí <b>/</b>. Vložení mezery ovšem nebude fungovat!</span><br>

			-0.007 cm^7*mV-3/s0.5
			<span class="example">umocňovat lze jednoduše napsáním mocniny za jednotku, případně použitím <b>^</b></span><br>

			2e-12 kg
			<span class="example">můžete použít zápis e... pro vyjádření "krát deset na ..."</span><br>

			l(1/3)
			<span class="example">mocninu jednotky lze zapsat jako zlomek v závorkách, což lze využít k zadání odmocniny</span><br>

			2.99 EUR/kg
			<span class="example">funguje i převod měn (základní jednotkou je USD), směnné kurzy jsou každý den stahovány pomocí tohoto <a href="http://fixer.io/">API</a>.</span><br>

			4.5*cm * 90*mm
			<span class="example">v zadání může být libovolné množství čísel, nezapomeňte však potom všude použít operátory * nebo /</span>

		<h2>Užitečné příklady:</h2>

			3500 min-1 &nbsp;&gt;&nbsp; Hz
			<span class="example">převod RPM (otáčky za minutu) na Hz</span><br>

			3 _g*lb*ft &nbsp;&gt;&nbsp; J
			<span class="example">librostopa na joule, _g je normální tíhové zrychlení. Všechny konstanty v UUC jsou označeny znakem _</span><br>

			kg*_g/cm2 &nbsp;&gt;&nbsp; psi
			<span class="example">tíha kilogramu na centimetr čtvereční na psi (psi by stejnou logikou mohlo být zapsáno i jako lb*_g/in2)</span><br>

			lb*ft/s2 &nbsp;&gt;&nbsp; N
			<span class="example">poundal na newton</span>

		<h2>Podivné využití:</h2>
			<p>UUC může být použit nejen na převod jednotek stejného rozměru. Za pomoci vestavěných univerzálních konstant lze i provádět jednoduché výpočty, kde je jedna fyzikální veličina násobena jednou či více konstantami, např.:</p>

			yr*_c &nbsp;&gt;&nbsp; m
			<span class="example">rok krát rychlost světla = světelný rok (v metrech). Toto je však zbytečné, neboť světelný rok je již implementován jako ly</span><br>

			T/_mu &nbsp;&gt;&nbsp; Oe
			<span class="example">magnetická indukce (B) v tesla na magnetickou intenzitu (H) v oersted</span><br>

			g*_c2 &nbsp;&gt;&nbsp; GJ
			<span class="example">hmotnost v gramech na ekvivalentní energii v gigajoule</span>
	</div>
<cz>
</cz><en></en>
	<div ng-switch-when="searchEngine">
		<h2>Chrome</h2>
		<ol>
			<li><cz>Otevřete tuto adresu:</cz><en>Open this address:</en> <span class="code">chrome://settings/searchEngines</span></li>
			<li><cz>Klepněte na tlačítko Přidat</cz><en>Click the Add button</en></li>
			<li><cz>Do prvních dvou polí vyplňte</cz><en>Insert</en> <span class="code">uuc</span><cz>, do třetího vyplňte</cz><en> into the first two fields, into the third insert</en> <span class="code">{{searchEngineTemplate}}</span></li>
			<li><cz>Dialog potvrďte tlačítkem Přidat</cz><en>Click the Add button to confirm the dialog</en></li>
		</ol>

		<cz>
			<p>
				Hotovo - právě jste definovali klíčové slovo <i>uuc</i> :-)<br>
				Stačí otevřít nový panel, napsat uuc, <i>napsat mezeru</i>, pokračovat psaním zadání a stisknutím Enter.<br>
				Cílové jednotky se zde specifikují znakem &gt; nebo slovy <i>to</i> či <i>into</i><br>
				např. 3.7 kPa &nbsp;&gt;&nbsp; Torr
			</p>
		</cz><en>
			<p>
				Done - you have defined <i>uuc</i> as a keyword :-)<br>
				Now you can simply open a new tab, write uuc, <i>type a space</i>, and continue by writing the input and pressing Enter.<br>
				Target units are specified by character &gt; or by words <i>to</i> or <i>into</i><br>
				e.g. 3.7 kPa &nbsp;&gt;&nbsp; Torr
			</p>
		</en>

		<cz>
			<h2>Ostatní prohlížeče</h2>
			<p>Bohužel, tyto prohlížeče neumožňují uživatelům definovat vlastní vyhledávač, avšak lze toho dosáhnout pomocí určitých doplňků.</p>
			<p>Pokud takové doplňky využíváte, budete muset sami zjistit, jak definovat klíčové slovo uuc. Promiňte!</p>
		</cz><en>
			<h2>Other browsers</h2>
			<p>Unfortunately, these browsers don't allow users to define a custom search engine, but you can achieve it using certain addons.</p>
			<p>If you do use such an addon, you will have to figure out by yourself how to define the uuc keyword. Sorry about that!</p>
		</en>

	</div>
</div>

<div id="debug"></div>
<div id="footerDefense"></div>
<div id="footer">
	<cz>Vytvořil <a href="http://jira.zby.cz/">Jiří Zbytovský</a> v letech 2017-2020 pod <a href="https://github.com/Lemonexe/UUC/blob/master/LICENSE">licencí MIT</a></cz>
	<en>Made by <a href="http://jira.zby.cz/">Jiří Zbytovský</a> in years 2017-2020 under <a href="https://github.com/Lemonexe/UUC/blob/master/LICENSE">MIT License</a></en>
</div>

	</body>
</html>
